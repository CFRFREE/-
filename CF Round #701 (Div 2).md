# A. Add and Divide

### 题意

给定$a,b(0<a,b<10^9)$两个整数，有如下两种操作：

1.  $a =\lfloor \dfrac{a}{b} \rfloor$
2.  $b = b + 1$

求小的操作次数使得 $a = 0$。

### 思路：

不难发现如果只进行操作1我们需要约$\log_ba$ 次操作，又因为操作2的存在所以我们最多只要进行$\log_ba$次操作，故可以一个个模拟每次的操作。同时可以发现，假定我们一共要进行n次操作2，为了使总操作数最少那么这n次操作2应当首先被执行（这一点可以用贪心证明），所以我们可以枚举一开始进行了多少次的操作2，然后再对每一种情况依次进行操作1并维护最小的操作数，或是比较$\log_ba$与$\log_{b+1}{a}-1$的大小。

****

# B. Replace and Keep Sorted

### 题意

若两个数列满足下列条件，则我们称这两个数列在k下相似：

-   两个数列长度相同且都严格递增
-   两个数列中的每一项都是$[1,k]$中的整数
-   两个数列只在一个位置上不同

给定一个长度为$n ( n \leq 10^6 )$的正整数列$a$以及$q ( q \leq 10^6 )$个询问，第$i$个询问提供$l_i,r_i$两个参数，请回答与数列在$[a_{l_i},a_{l_i+1}\ldots,a_{r_i}]$在k下相似的数列的个数。

### 思路

对于每一个给定的$[a_{l_i},a_{l_i+1}\ldots,a_{r_i}]$，考虑与其在k下相似的数列$b$时，我们可以分类讨论两个数列不同的的位置，假定在${l_i}$处不同，那么为了满足上述的三个条件，不难发现只要$1\leq b_1 \leq a_{l_i+1}$便可以满足，所以此时有 $a_{l_i+1}-2$种可能，同理在$r_i$不同时$b_{r_i-l_i+1}$有$k-a_{r_i-1}-1$种可能。如果这个不同的位置$x$在中间即$l_i<x<r_i$，则$b_x$有$a_{x+1}-a_{x-1}-1$种可能，而所有满足的数列的总数便是在每个位置不同的数列的个数的和，由此我们可以$O(n)$预处理出$a_{i+1}-a_{i-1}-1$，并计算其前缀和，由此针对每一次查询便可以$O(1)$计算出结果。

****

# C. Floor and Mod

### 题意

共$t(t<100)$组,每组数据给定两个正整数$x,y(x,y<10^9)$,求满足$1 \leq a \leq x,1 \leq b \leq y$$, ⌊\dfrac{a}{b}⌋=a \operatorname{mod}b$的有序正整数对$(a,b)$的个数。

### 思路

本题的关键是假设$⌊\dfrac{a}{b}⌋=a \bmod b=k(k<b)$，则$a=k(b+1)$，又$k<b,a<x$所以$k<\sqrt x$，这时针对每一个询问我们可以枚举$k$并计算每一个$k$所对应的有序正整数对$(a,b)$的个数。因为$a=k(b+1)$，所以我们可以得到$\begin{cases}
k(b+1) \leq x
\\b \leq y
\end{cases}$，解得$k<b \leq \min(y,\frac{x}{k} -1)$，所以对于给定的$k$,$b$共有$\min(y,\frac{x}{k} -1)-k$种可能，又因为当$k,b$确定时$a$也是确定的，所以此时的有序正整数对$(a,b)$的个数为$\min(y,\frac{x}{k} -1)-k$。对于每一个询问我们只需要枚举$k$并累加$\min(y,\frac{x}{k} -1)-k$即可。

